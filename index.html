<!DOCTYPE html>
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<style>
.v3d-container {
    overflow: hidden;
    z-index: 0;
}
.v3d-canvas {

    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;

    z-index: -1;
}
.v3d-simple-preloader-background {
    background-color: #fff;
    position: absolute;
    top: 0;
    bottom: 0;
    left: 0;
    right: 0;
    z-index: 1;
    height: 100%;
    width: 100%;
}
.v3d-simple-preloader-container {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -90px;
    margin-left: -90px;
    width: 180px;
    height: 180px;
}
.v3d-simple-preloader-bar {
    background: linear-gradient(90deg, #1458ae, #4388e0);
    width: 0%;
    height: 3px;
    margin: 15px -1px;
    border: 1px solid;
    border-radius: 5px;
    border-color: #2b70c7;
}
.v3d-simple-preloader-logo {
    width: 110px;
    height: 120px;
    background-repeat: no-repeat;
    margin: 20px auto;
}
.v3d-annotation {
    position: absolute;
    top: -16px;
    left: -16px;
    width: auto;
    min-width: 14px;
    height: 26px;
    padding: 2px 8px;
    border: 1px solid #fff;
    border-radius: 18px;
    font-size: 16px;
    font-family: sans-serif;
    line-height: 26px;
    color: #fff;
    text-align: center;
    user-select: none;
    background: rgba(0, 0, 0, 0.8);
}
.v3d-annotation-transparent {
    opacity: 0.5;
}
.v3d-annotation-dialog {
    position: absolute;
    top: 0;
    left: 0;
    margin-left: 15px;
    margin-top: 31px;
    font-family: sans-serif;
    user-select: none;
    padding: 1em;
    min-width: 200px;
    color: #fff;
    background: rgba(0, 0, 0, 0.8);
    border-radius: .5em;
    font-size: 12px;
    line-height: 1.2;
    transition: opacity .5s;
    visibility: hidden;
}
.v3d-webgl-error {
    color: #015fb1;
    background-color: white;
    position: absolute;
    top: 50%;
    left: 50%;
    margin-top: -44px;
    margin-left: -256px;
    text-align: center;
    border-style: solid;
    border-width: 3px;
    border-radius: 8px;
    border-color: #015fb1;
    font-size: 20px;
    font-family: sans-serif;
    padding: 10px;
    line-height: 30px;
    z-index: 10;
}
@media only screen and (max-width: 540px) {
    .v3d-webgl-error {
        top: 50%;
        left: 10px;
        right: 10px;
        margin-top: -58px;
        margin-left: 0px;
    }
}
.v3d-webgl-error-link {
    color: #015fb1;
}
.v3d-device-motion-permissions-dialog {
    z-index: 1;
    position: absolute;
    width: 100%;
    background-color: #f00;
    color: #000;
    text-align: center;
    padding: 10px;
}
</style>
  <title>Umolab</title>

  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

  <!-- favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <!-- <link rel="manifest" href="manifest.json"> -->
  <link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5">
  <link href="./assets/css/style.css" rel="stylesheet">
  <link href="./assets/css/u1.css" rel="stylesheet">

  <meta name="theme-color" content="#ffffff">
  <!-- <script async="" src="./index_files/tag.js.Без названия"></script><script src="./index_files/mqttws31.js.Без названия" type="text/javascript"></script> -->



	<script src="./assets/jquery-3.6.0.js"></script>
	<link rel="stylesheet" href="./assets/bootstrap.css">
	<script src="./assets/js/jscolor.js"></script>
	<script src="./assets/bootstrap.bundle.js"></script>

    <script src="./assets/js/mqtt_dev.js"></script>
	<!-- <script src="./assets/js/main.js"></script> -->
  <script src="./assets/js/app_mqtt.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.js" type="text/javascript"></script>


	<script>
	function get(name){
		if(name=(new RegExp('[?&]'+encodeURIComponent(name)+'=([^&]*)')).exec(location.search))
			return decodeURIComponent(name[1]);
			else return 'u1';
		}
	</script>

  <script src="./assets/verge/v3d.js"></script>


  <script>
  var _param=get('id');
  var scene = _param;
  var case_image = "";
  var script = document.createElement("script");
  //console.log(_param);
  if (_param == undefined) {_param='u1.js'; scene = 'u1';};
  if (_param === '') {_param='u1.js';scene = 'u1';};
  (_param.indexOf('.js')>-1)?_param:_param+='.js';
  if (_param=='g2.js') {_param='g1.js'; scene = 'g1';};
  if (_param=='g3.js') {_param='g1.js'; scene = 'g1';};

  switch (_param)
  {
	case 'u1.js': case_image = './assets/images/u1_200.png'; break;
	case 'g1.js': case_image = './assets/images/d_200.png'; break;
	case 'g2.js': case_image = './assets/images/dp_200.png'; break;
	case 'g3.js': case_image = './assets/images/g1_200.png'; break;
	default : case_image =     './assets/images/u1_200.png'; break;
  }
  script.src = 'assets/js/' + _param;
  console.log(script.src)
  document.getElementsByTagName('head')[0].appendChild(script);

  </script>

  <script src="./assets/js/u1.js"></script>

  <!-- <link rel="stylesheet" type="text/css" href="./assets/css/u1.css"> -->
  <link rel="stylesheet" href="./assets/css/font-awesome.min.css">
</head>

<body>

  <div id="v3d-container" class="v3d-container" translate="no">
		<div id="preloader" class="preloader-div" style="display: none;">
			<div class="preloader-container">
				<div id="preloader_bar" class="preloader-bar" style="width: 100%;"></div>
			</div>
        </div>
  <canvas width="1078" height="696" class="v3d-canvas" style="display: block; width: 1078px; height: 696px;"></canvas><div><a id="my_id" href="https://www.soft8soft.com/verge3d-trial/" target="_blank" style="display:none">MADE WITH VERGE3D TRIAL</a></div></div>
  <div class="row">
	<a href="https://umolab.ru/shop" target="_blank"><img id="u_logo" class="logo-image" src="./assets/images/u_logo.png"></a>
  </div>

  <div class="top-panel  mt-5	" id="paTop">
	<div class="row">
	<div class="col-sm-2">
		<div class="btn-group dropright" style="margin-top: -34px;">
			<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<img id="case_current" class="case-dropdown-button" src="./assets/images/u1_200.png">
			</button>
		<div class="dropdown-menu dropdown-menu-left bg-transparent">
			<h6 class="dropdown-header">Umbrella</h6>
			<img id="case_umbrella" class="case-images" src="./assets/images/u1_200.png">
			<h6 class="dropdown-header">Gamma</h6>
			<img id="case_gamma" class="case-images" src="./assets/images/g1_200.png">
			<h6 class="dropdown-header">Diamond+</h6>
			<img id="case_diamondplus" class="case-images" src="./assets/images/dp_200.png">
			<h6 class="dropdown-header">Diamond</h6>
			<img id="case_diamond" class="case-images" src="./assets/images/d_200.png">
		</div>
		</div>
	</div>
	<div class="col-sm-8">
		<h2 id="id_caption" class="text-center glow" style="margin-top: -30px;">Umbrella</h2>
	</div>
	<div class="col-sm-2">

	</div>
	</div>
  </div>
  <div class="left-panel show" id="paLeft">
		<h6 class="dropdown-header ml-n2">Menu</h6>
  		<div class="btn-group dropright">
			<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<img id="color_current" class="menu-dropdown-button" src="./assets/images/red120.png">
			</button>
			<div class="dropdown-menu dropdown-menu-left bg-transparent" style="margin-top: -44px;">
			<div class="show">
			<h6 class="dropdown-header">Solid</h6>
			<img id="color_red" class="colors-images"    src="./assets/images/red120.png">
			<img id="color_green" class="colors-images"  src="./assets/images/green120.png">
			<img id="color_blue" class="colors-images"   src="./assets/images/blue120.png">
			<img id="color_orange" class="colors-images" src="./assets/images/white120.png">
			<div id="id_clear" class="show">
				<h6 class="dropdown-header">Clear</h6>
				<img id="color_white_clear" class="colors-images" src="./assets/images/t_white120.png">
				<img id="color_red_clear" class="colors-images"   src="./assets/images/t_red120.png">
				<img id="color_green_clear" class="colors-images" src="./assets/images/t_green120.png">
				<img id="color_blue_clear" class="colors-images"  src="./assets/images/t_blue120.png">
			</div>
			<div>
			</div>
			<h6 class="dropdown-header">Select</h6>
			<button id="SideColor" class="colors-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'update(this, \'#SideColor\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15, value:'rgba(255,0,0,0.85)'}" type="button" data-current-color="rgba(255,0,0,0.85)" style="min-width: 32px !important; background-image: linear-gradient(to right, rgba(255, 0, 0, 0.85) 0%, rgba(255, 0, 0, 0.85) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			</div>
			</div>
		</div>
  		<div class="btn-group dropright">
			<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
				<img class="menu-dropdown-button" src="./assets/images/preset.png">
			</button>
			<div class="dropdown-menu dropdown-menu-left bg-transparent" style="margin-top: -44px;">

			<h6 class="dropdown-header">Preset 1</h6>
			<button id="preset1_zone1" class="preset-images text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset1_zone1\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<button id="preset1_zone2" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset1_zone2\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<button id="preset1_zone3" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset1_zone3\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<button id="preset1_zone4" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset1_zone4\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<div class="text-center mt-2">
			<button id="preset1_save" class="btn btn-primary" style="min-width: 76px;" onclick="fromCurrent(1)">Save</button>
			<button id="preset1_apply" class="btn btn-success" style="min-width: 76px;" onclick="applyPreset(1)">Apply</button>
			</div>
			<hr>
			<h6 class="dropdown-header">Preset 2</h6>
			<button id="preset2_zone1" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset2_zone1\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<button id="preset2_zone2" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset2_zone2\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<button id="preset2_zone3" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset2_zone3\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<button id="preset2_zone4" class="preset-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'savePreset(this, \'#preset2_zone4\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15}" type="button" data-current-color="#FFFFFF" style="min-width: 32px !important; background-image: linear-gradient(to right, rgb(255, 255, 255) 0%, rgb(255, 255, 255) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;">&nbsp;</button>
			<div class="text-center mt-2">
			<button id="preset2_save" class="btn btn-primary" style="min-width: 76px;" onclick="fromCurrent(2)">Save</button>
			<button id="preset2_apply" class="btn btn-success" style="min-width: 76px;" onclick="applyPreset(2)">Apply</button>
			</div>
			</div>
		</div>
	<div class="btn-group dropright hide" id="id_style">
		<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			<img id="panel_style_current" class="menu-dropdown-button" src="./assets/images/t_white120.png">
		</button>
		<div class="dropdown-menu dropdown-menu-left bg-transparent">
			<h6 class="dropdown-header">Side Panel Styles</h6>
			<img id="panel_style_simple" class="colors-images menu-shadow  ml-2"  src="./assets/images/t_white120.png">
			<img id="panel_style_one" class="colors-images menu-shadow ml-2"      src="./assets/images/style_my.png">
			<img id="panel_style_two" class="colors-images menu-shadow ml-2"      src="./assets/images/style_two.png">
			<img id="panel_style_predator" class="colors-images menu-shadow ml-2" src="./assets/images/style_predator.png">
			<img id="panel_style_transf" class="colors-images menu-shadow ml-2"   src="./assets/images/style_transf.png">
		</div>
	</div>
	<div class="btn-group dropright show" id="cooler_color_current">
		<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			<img id="id_cooler_color_current" class="menu-dropdown-button" src="./assets/images/cooler_white_front120.png">
		</button>
		<div class="dropdown-menu dropdown-menu-left bg-transparent" style="margin-top: -90px;">
			<h6 class="dropdown-header">Coolers Color</h6>
			<img id="cooler_color_red" class="colors-images menu-shadow  ml-2"  src="./assets/images/cooler_red_front120.png">
			<img id="cooler_color_green" class="colors-images menu-shadow ml-2" src="./assets/images/cooler_green_front120.png">
			<img id="cooler_color_blue" class="colors-images menu-shadow ml-2"  src="./assets/images/cooler_blue_front120.png">
			<img id="cooler_color_white" class="colors-images menu-shadow ml-2" src="./assets/images/cooler_white_front120.png">
		<div>
			<h6 class="dropdown-header">Impeller/Ring</h6>
			<button id="ImpellerColor" class="colors-images bg-transparent ml-2 text-white jscolor" data-jscolor="{onChange: 'update(this, \'#ImpellerColor\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15, value:'rgba(0,128,128,0.85)'}" type="button" data-current-color="rgba(123,226,233,0.85)" style="min-width: 32px !important; background-image: linear-gradient(to right, rgba(123, 226, 233, 0.85) 0%, rgba(123, 226, 233, 0.85) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;" value="#7be2e9">&nbsp;</button>
			<button id="CoolerColor" class="colors-images bg-transparent ml-2 text-white jscolor" data-jscolor="{onChange: 'update(this, \'#CoolerColor\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15, value:'rgba(128,128,128,0.85)'}" type="button" data-current-color="rgba(218,112,106,0.85)" style="min-width: 32px !important; background-image: linear-gradient(to right, rgba(218, 112, 106, 0.85) 0%, rgba(218, 112, 106, 0.85) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;" value="#da706a">&nbsp;</button>
		</div>
		</div>
	</div>
	<div class="btn-group dropright">
		<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			<img id="style_current" class="menu-dropdown-button" src="./assets/images/controller.png">
		</button>
		<div class="dropdown-menu dropdown-menu-left bg-transparent" style="margin-top: -136px;">
			<h6 class="dropdown-header">Front Styles</h6>
			<img id="style_transf" class="colors-images menu-shadow ml-2"    src="./assets/images/transf.png">
			<img id="style_ufo" class="colors-images menu-shadow ml-2"       src="./assets/images/ufobtn.png">
			<img id="style_predator" class="colors-images menu-shadow  ml-2" src="./assets/images/predator.png">
			<img id="style_umbrella" class="colors-images menu-shadow  ml-2" src="./assets/images/umbrella.png">
			<img id="style_bio" class="colors-images menu-shadow  ml-2"      src="./assets/images/styles_bio.png">
			<img id="style_rose" class="colors-images menu-shadow  ml-2"     src="./assets/images/styles_rose.png">
			<img id="style_my2" class="colors-images menu-shadow  ml-2"      src="./assets/images/styles_my2.png">
			<img id="style_radio" class="colors-images menu-shadow  ml-2"    src="./assets/images/styles_radio.png">
			<h6 class="dropdown-header ">Controllered</h6>
			<img id="style_controller" class="colors-images menu-shadow ml-2 " src="./assets/images/controller.png">
		</div>
	</div>
	<div class="btn-group text-center dropright">
		<button type="button" class="btn btn-secondary dropdown-toggle bg-transparent" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
			<i class="fa fa-cogs fa-2x menu-dropdown-button" aria-hidden="true"></i>
		</button>
		<div class="dropdown-menu dropdown-menu-right bg-transparent text-primary" style="margin-top: -180px; min-width: 18rem;">
			<h6 class="dropdown-header">ARGB Zones</h6>
			<div class="col-sm-8 ml-3">
					<label for="count1">Z1: <span id="caption_count1" class="text-white"> 1 to 0</span></label>
					<input type="range" class="custom-range" min="0" max="100" id="count1" onchange="addressChange('count1')" oninput="slideAddress('count1')">

			</div>
			<div class="col-sm-8 ml-3">
					<label for="count2">Z2: <span id="caption_count2" class="text-white"> 1 to 12</span></label>
					<input type="range" class="custom-range" min="0" max="100" id="count2" onchange="addressChange('count2')" oninput="slideAddress('count2')">

			</div>
			<div class="col-sm-8 ml-3">
					<label for="count3">Z3: <span id="caption_count3" class="text-white"> 13 to 28</span></label>
					<input type="range" class="custom-range" min="0" max="100" id="count3" onchange="addressChange('count3')" oninput="slideAddress('count3')">

			</div>
			<div class="col-sm-8 ml-3">
					<label for="count4">Z4: <span id="caption_count4" class="text-white"> 29 to 60</span></label>
					<input type="range" class="custom-range" min="0" max="100" id="count4" onchange="addressChange('count4')" oninput="slideAddress('count4')">

			</div>
			<div class="row mx-2">
			  <div class="">
				<label for="light_on" class="ml-4">Inner/Front Color</label><br>
			  </div>
			  <div class="ml-4">
				<button id="LightColor" class="colors-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'update(this, \'#LightColor\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15, value:'rgba(255,0,0,0.85)'}" type="button" data-current-color="rgba(164,179,178,0.85)" style="min-width: 32px !important; background-image: linear-gradient(to right, rgba(164, 179, 178, 0.85) 0%, rgba(164, 179, 178, 0.85) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;" value="#a4b3b2">&nbsp;</button>
				<button id="FrontColor" class="colors-images bg-transparent text-white jscolor" data-jscolor="{onChange: 'update(this, \'#FrontColor\')', preset:'dark', position:'top',
							palette:'#FF0000\n#0000FF\n#00FF00\n#FFFFFF', paletteCols:4, width:180, closeButton:true, closeText:'Close', paletteCols:15, value:'rgba(255,0,0,0.85)'}" type="button" data-current-color="rgba(184,231,235,0.85)" style="min-width: 32px !important; background-image: linear-gradient(to right, rgba(184, 231, 235, 0.85) 0%, rgba(184, 231, 235, 0.85) 100%), url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAAAXNSR0IArs4c6QAAAD9JREFUOE9jnDlz5n8GIsDZs2eJUMXAwDhqIM5wGg1DnEEzBJJNWloaUTnF2NiYuJwyaiDOcBoNQ9w5ZdAnGwAGKU/jyPt30QAAAABJRU5ErkJggg==&quot;) !important; background-position: left top, left top !important; background-size: auto, 16px 16px !important; background-repeat: repeat, repeat !important; background-origin: padding-box, padding-box !important;" value="#b8e7eb">&nbsp;</button>
			  </div>
			</div>
			<div class="row mx-2">
			  <div class="">
				<label for="FrontColor" class="ml-4">Change Light</label><br>
			  </div>
			  <div class="col-sm-6">
			  </div>
			</div>
			<div class="row mx-2">
				<button id="light_on" class="colors-images bg-transparent text-white ml-4">
					<i class="fa fa-lightbulb-o fa-3x" aria-hidden="true"></i></button>
			</div>
			<div class="row">
				<h6 class="dropdown-header hide">Rotation</h6>
			<button id="rotate_on" class="colors-images bg-transparent text-white  ml-4 h	hide"><i class="fa fa-repeat fa-3x"></i></button>
			<h6 class="dropdown-header hide">Hide/Show coolers</h6>
			<button id="hide_coolers" class="colors-images bg-transparent text-white  ml-4 hide"><i class="fa fa-eye-slash fa-3x"></i></button>
			<h6 class="dropdown-header hide">Hide/Show Style</h6>
			<button id="hide_front" class="colors-images bg-transparent text-white ml-4 hide"><i class="fa fa-life-ring fa-3x" aria-hidden="true"></i></button>
			</div>
		</div>
	</div>
	<div>
			<h6 class="dropdown-header ml-n4">Save Image</h6>
			<button id="screenshot" class="screenshot-button bg-transparent text-white  "><i class="fa fa-bullseye fa-4x" aria-hidden="true"></i></button>
	</div>
  </div>
  <script>
    $('#case_current').attr('src', case_image);
	function HideScreenshot()
	{
		$('#paScreenshot').attr('class', 'hide');
	}
  </script>
	<div class="bottom-panel  show" id="id_bottom_panel" style="display: block;">
		<div class="row">
			<div class="col-sm-2">
				<div id="paScreenshot" class="hide">
					<a id="link" download="download.png"><img id="sshot" class="sshot-image"></a>
					<a href="#" onclick="HideScreenshot()" class="close-screenshot"><i class="fa fa-times-circle-o fa-2x" aria-hidden="true"></i></a>
				</div>
			</div>
			<div class="col-sm-4">

			</div>
			<div class="col-sm-6">
				<a id="id_link" class="text" href="https://s.click.aliexpress.com/e/_pvhEePt" target="_blank">
				<h1 class="text-right mr-4 glow"><i class="fa fa-shopping-cart mr-2 mt-n5" aria-hidden="true">
				</i><span id="id_cost">169,99$</span></h1></a>
			</div>

		</div>
    <div class="row mt-n3 hide"><div class="col-12 text-center pt-n4"><a href="https://umolab.ru/" target="_blank">Powered By Umolab © 2021</a></div></div>
  </div>

  <script>
	  var link = document.getElementById('link');
	  link.setAttribute('download', 'download.png');

  	$('#screenshot').click(function() {
		var canvas = document.getElementsByClassName('v3d-canvas')[0];
		html2canvas(canvas).then(function(canvas) {
			var context = canvas.getContext("2d");


			context.shadowColor = "#777";
			context.shadowOffsetX = 0;
			context.shadowOffsetY = 0	;
			//context.shadowBlur = 2;
			context.fillStyle = "white";
			context.font = "bold 32px Play";
			context.fillText("Umolab \u00A9 2021", (canvas.width / 2) - 90, canvas.height - 24);

			link.setAttribute('href', canvas.toDataURL("image/png").replace("image/png", "image/octet-stream"));
			$('#paScreenshot').removeAttr("class").attr('class', 'show');
			$('#sshot').removeAttr("src").attr('src', canvas.toDataURL("image/png").replace("image/png", "image/octet-stream"));
		});
	});

	function update(picker, selector) {
	  $(selector).val(picker.toString('hex'));
	  $(selector).click();
	  var dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
	  console.log(selector + ' ->' + dec);
	  Publish(selector, dec);
	}
  </script>

  <script>
  const LightColor = 'zone1';
  const ImpellerColor = 'zone2';
  const CoolerColor = 'zone3';
  const FrontColor = 'zone4';

  const _zone1 = '#LightColor';
  const _zone2 = '#ImpellerColor';
  const _zone3 = '#CoolerColor';
  const _zone4 = '#FrontColor';


  function setRange()
	{
		var _c2 = parseInt(document.querySelector('#count1').value)+1;
		var _c3 = parseInt(document.querySelector('#count2').value)+1;
		var _c4 = parseInt(document.querySelector('#count3').value)+1;

		document.querySelector('#caption_count1').innerHTML = ' 1 to ' + document.querySelector('#count1').value;
		document.querySelector('#caption_count2').innerHTML = ' ' + _c2 + ' to ' + document.querySelector('#count2').value;
		document.querySelector('#caption_count3').innerHTML = ' ' + _c3 + ' to ' + document.querySelector('#count3').value;
		document.querySelector('#caption_count4').innerHTML = ' ' + _c4 + ' to ' + document.querySelector('#count4').value;

	}

	function slideAddress(selector)
	{
		setRange();
	}

  function SubscribeTopics()
  {
	if (client != null && client.isConnected())
	{
		client.subscribe('/'+_mac+'/zone1');
		client.subscribe('/'+_mac+'/zone2');
		client.subscribe('/'+_mac+'/zone3');
		client.subscribe('/'+_mac+'/zone4');
		client.subscribe('/'+_mac+'/count1');
		client.subscribe('/'+_mac+'/count2');
		client.subscribe('/'+_mac+'/count3');
		client.subscribe('/'+_mac+'/count4');
		client.subscribe('/'+_mac+'/preset1/zone1');
		client.subscribe('/'+_mac+'/preset1/zone2');
		client.subscribe('/'+_mac+'/preset1/zone3');
		client.subscribe('/'+_mac+'/preset1/zone4');
		client.subscribe('/'+_mac+'/preset2/zone1');
		client.subscribe('/'+_mac+'/preset2/zone2');
		client.subscribe('/'+_mac+'/preset2/zone3');
		client.subscribe('/'+_mac+'/preset2/zone4');
	}
  }

  function addressChange(value)
  {
    SendToController('/'+_mac+'/'+value, $('#'+value).val());
  }

  function SceneLoaded()
  {
	SubscribeTopics();
  }

  function HideCr()
  {
	  $('#my_id').attr('style', 'display:none');
  }

  function savePreset(_this, zone)
  {
    var _z = zone.substr(9);
	var index = parseInt(zone[7]);
	var _topic = '/' + _mac + '/preset' + index.toString() + '/' + _z;
	var picker = document.querySelector('#preset' + index.toString() + '_' +_z).jscolor;
	var _dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
	console.log(_topic + ' -> ' + _dec);
	SendToController(_topic, _dec);
  }

	function SendToController(topic, value)
	{
		console.log(value);
		var message = new Paho.MQTT.Message(value.toString());
		message.destinationName = topic;
		message.qos = 0;
		message.retained = true;
		client.send(message);
		console.log(topic + ' -> ' + value);
	}
	function Publish(zone, value)
	{
		switch (zone.substr(1))
		{
			case 'LightColor': SendToController('/'+_mac + '/' + LightColor, value); break;
			case 'ImpellerColor': SendToController('/'+_mac + '/' + ImpellerColor, value); break;
			case 'CoolerColor': SendToController('/'+_mac + '/' + CoolerColor, value); break;
			case 'FrontColor': SendToController('/'+_mac + '/' + FrontColor, value); break;
			default: break;
		}
	}

  	function fromCurrent(index)
	{
		document.querySelector('#preset'+index+'_zone1').jscolor.fromString(document.querySelector(_zone1).jscolor.toString());
		document.querySelector('#preset'+index+'_zone2').jscolor.fromString(document.querySelector(_zone2).jscolor.toString());
		document.querySelector('#preset'+index+'_zone3').jscolor.fromString(document.querySelector(_zone3).jscolor.toString());
		document.querySelector('#preset'+index+'_zone4').jscolor.fromString(document.querySelector(_zone4).jscolor.toString());

		var picker = document.querySelector('#preset'+index+'_zone1').jscolor;
		var _dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		var _tmp = '/'+_mac+'/preset'+index.toString()+'/zone1';
		console.log(_tmp + ' _ ' + _dec);
		SendToController(_tmp, _dec);

		picker = document.querySelector('#preset'+index+'_zone2').jscolor;
		_dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/preset'+index.toString()+'/zone2', _dec);

		picker = document.querySelector('#preset'+index+'_zone3').jscolor;
		_dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/preset'+index.toString()+'/zone3', _dec);

		picker = document.querySelector('#preset'+index+'_zone4').jscolor;
		_dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/preset'+index.toString()+'/zone4', _dec);
	}

	function applyPreset(index)
	{
		document.querySelector(_zone1).jscolor.fromString(document.querySelector('#preset'+index+'_zone1').jscolor.toString());
		document.querySelector(_zone2).jscolor.fromString(document.querySelector('#preset'+index+'_zone2').jscolor.toString());
		document.querySelector(_zone3).jscolor.fromString(document.querySelector('#preset'+index+'_zone3').jscolor.toString());
		document.querySelector(_zone4).jscolor.fromString(document.querySelector('#preset'+index+'_zone4').jscolor.toString());
		var picker = document.querySelector(_zone1).jscolor;
		var _dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/zone1', _dec);

		picker = document.querySelector(_zone2).jscolor;
		_dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/zone2', _dec);

		picker = document.querySelector(_zone3).jscolor;
		_dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/zone3', _dec);

		picker = document.querySelector(_zone4).jscolor;
		_dec = Math.round(picker.channel('R')) * 65536 + Math.round(picker.channel('G')) * 256 + Math.round(picker.channel('B'));
		SendToController('/'+_mac+'/zone4', _dec);

	}
  setTimeout(HideCr, 100);
  setTimeout(HideCr, 500);

  </script>



<!-- <div class="__ym_wv_ign" style="position: fixed; bottom: 0px; width: 100%; max-width: initial; z-index: 999999999;">
  <template shadowrootmode="open"><div hidden="" style="position: absolute; top: 0px; right: 0px; bottom: 0px; width: 600px; background: rgb(255, 255, 255);"></div><div id="__ym_wv_ign__closer" hidden="" style="width: 32px; height: 32px; position: absolute; border-radius: 50%; top: 12px; right: 612px; cursor: pointer; background: rgb(255, 255, 255);"><div style="width: 2px; height: 18px; position: absolute; left: 15px; top: 7px; background: rgb(47, 55, 71); border-radius: 2px; transform: rotate(45deg);"></div><div style="width: 2px; height: 18px; position: absolute; left: 15px; top: 7px; background: rgb(47, 55, 71); border-radius: 2px; transform: rotate(-45deg);"></div></div><div id="__ym_wv_ign__opener" style="width: 46px; height: 48px; position: fixed; right: 0px; bottom: 60px; cursor: pointer; background: rgb(255, 255, 255); border-radius: 16px 0px 0px 16px; box-shadow: rgba(67, 68, 69, 0.3) 0px 0px 1px, rgba(67, 68, 69, 0.3) 0px 1px 2px;"><div style="width: 24px; height: 24px; position: absolute; border-radius: 50%; top: 12px; right: 10px; background: rgb(51, 103, 220); overflow: hidden;"><div style="width: 8px; height: 9px; position: absolute; left: 0px; bottom: 0px; background: linear-gradient(0deg, rgb(255, 50, 79), rgb(255, 50, 79)), linear-gradient(158.67deg, rgb(255, 69, 92) 12.6%, rgb(255, 17, 57) 96.76%);"></div><div style="width: 9px; height: 16px; position: absolute; left: 8px; bottom: 0px; background: rgb(4, 172, 255); border-top-left-radius: 3px;"></div><div style="width: 7px; height: 24px; position: absolute; left: 17px; bottom: 0px; background: rgb(255, 221, 19);"></div></div></div></template></div></body></html> -->
